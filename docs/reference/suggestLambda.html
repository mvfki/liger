<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Visually suggest appropriate lambda value — suggestLambda • rliger2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Visually suggest appropriate lambda value — suggestLambda"><meta property="og:description" content='Can be used to select appropriate value of lambda for factorization of
particular dataset. Plot alignment and agreement for various test values of
lambda. Most appropriate lambda is likely around the "elbow" of the alignment
plot (when alignment stops increasing). This will likely also correspond to
slower decrease in agreement. Depending on number of cores used, this process
can take 10-20 minutes.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rliger2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown-header">Installation</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Integrating_multi_scRNA_data.html">Integrating multiple scRNAseq data</a>
    </li>
    <li>
      <a href="../articles/Integrating_scRNA_and_scATAC_data.html">Integrating scRNA and scATAC data</a>
    </li>
    <li>
      <a href="../articles/online_iNMF_tutorial.html">Online iNMF with HDF5 based data</a>
    </li>
    <li>
      <a href="../articles/UINMF_vignette.html">Integration using unshared features</a>
    </li>
    <li>
      <a href="../articles/cross_species_vig.html">Cross-species Analysis with UINMF</a>
    </li>
    <li>
      <a href="../articles/STARmap_dropviz_vig.html">UINMF with STARmap spatial and transcriptomic</a>
    </li>
    <li>
      <a href="../articles/SNAREseq_walkthrough.html">UINMF with SNAREseq scATAC and scRNA</a>
    </li>
    <li>
      <a href="../articles/rna_methylation.html">Integrating scRNAseq and DNA methylation</a>
    </li>
    <li>
      <a href="../articles/Parameter_selection.html">Parameter selection</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Usage
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Import data</li>
    <li class="dropdown-header">Introduction to a liger object</li>
    <li class="dropdown-header">Interoperate with Seurat</li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">NEWS</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/welch-lab/liger" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visually suggest appropriate lambda value</h1>
    <small class="dont-index">Source: <a href="https://github.com/welch-lab/liger/blob/HEAD/R/suggestParam.R" class="external-link"><code>R/suggestParam.R</code></a></small>
    <div class="hidden name"><code>suggestLambda.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Can be used to select appropriate value of lambda for factorization of
particular dataset. Plot alignment and agreement for various test values of
lambda. Most appropriate lambda is likely around the "elbow" of the alignment
plot (when alignment stops increasing). This will likely also correspond to
slower decrease in agreement. Depending on number of cores used, this process
can take 10-20 minutes.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">suggestLambda</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">k</span>,</span>
<span>  lambdaTest <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  nCores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thresh <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  maxIter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  nNeighbors <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  reference <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  genNew <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nrep <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  returnRaw <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"ligerVerbose"</span><span class="op">)</span>,</span>
<span>  lambda.test <span class="op">=</span> <span class="va">lambdaTest</span>,</span>
<span>  rand.seed <span class="op">=</span> <span class="va">seed</span>,</span>
<span>  num.cores <span class="op">=</span> <span class="va">nCores</span>,</span>
<span>  max.iters <span class="op">=</span> <span class="va">maxIter</span>,</span>
<span>  knn_k <span class="op">=</span> <span class="va">nNeighbors</span>,</span>
<span>  ref_dataset <span class="op">=</span> <span class="va">reference</span>,</span>
<span>  gen.new <span class="op">=</span> <span class="va">genNew</span>,</span>
<span>  return.raw <span class="op">=</span> <span class="va">returnRaw</span>,</span>
<span>  return.data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  k2 <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  resolution <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>A <a href="liger-class.html">liger</a> object with scaled data.</p></dd>


<dt>k</dt>
<dd><p>Number of factors to use in the test.</p></dd>


<dt>lambdaTest</dt>
<dd><p>Numeric vector of "lambda" values to test. Default
<code>NULL</code> will test the following sequence: 0.25, 0.5, 0.75; 1, 2 to 10;
and 15, 20, ... to 60, totally 23 numbers.</p></dd>


<dt>seed</dt>
<dd><p>Random seed to allow reproducible results. Default <code>1</code>.</p></dd>


<dt>nCores</dt>
<dd><p>Number of cores to use for optimizing factorization in
parallel. Default <code>1</code>.</p></dd>


<dt>thresh</dt>
<dd><p>Convergence threshold. Convergence occurs when
\(|obj_0-obj|/(mean(obj_0,obj)) &lt; thresh\). Default <code>1e-4</code>.</p></dd>


<dt>maxIter</dt>
<dd><p>Maximum number of block coordinate descent iterations to
perform. Default <code>100</code>.</p></dd>


<dt>nNeighbors</dt>
<dd><p>Number of nearest neighbors for within-dataset KNN in
<code><a href="quantileNorm.html">quantileNorm</a></code>. Default <code>20</code>.</p></dd>


<dt>reference</dt>
<dd><p>Reference dataset for <code><a href="quantileNorm.html">quantileNorm</a></code>. See link
for detail. Default <code>NULL</code>.</p></dd>


<dt>genNew</dt>
<dd><p>Logical. Whether to use <code><a href="optimizeNewLambda.html">optimizeNewLambda</a></code> in
factorization. Recommended <code>TRUE</code> when looking at only a small range of
lambdas (i.e. 1:7). Default <code>FALSE</code>.</p></dd>


<dt>nrep</dt>
<dd><p>See <code><a href="rliger2-deprecated.html">optimizeALS</a></code> for detail. Number restarts to
perform at each k value tested. Increase to produce smoother curve if results
unclear. Default <code>1</code>.</p></dd>


<dt>returnRaw</dt>
<dd><p>Logical. Whether to return raw data or data.frame. Raw data
is matrix of alignment values for each lambda value tested (each column
represents a different rep for nrep). Default <code>FALSE</code>.</p></dd>


<dt>verbose</dt>
<dd><p>Logical. Whether to show information of the progress. Default
<code>getOption("ligerVerbose")</code> which is <code>TRUE</code> if users have not set.</p></dd>


<dt>lambda.test, rand.seed, num.cores, max.iters, knn_k, ref_dataset, gen.new, return.raw</dt>
<dd><p><b>Deprecated</b>. See Usage section for replacement.</p></dd>


<dt>return.data</dt>
<dd><p><b>Defuncted</b>. Will always return data now. Use
<code><a href="plotSuggestLambda.html">plotSuggestLambda</a></code> to show the plot.</p></dd>


<dt>k2, resolution</dt>
<dd><p><b>Defuncted</b>. Parameter passed to
<code><a href="quantileAlignSNF.html">quantileAlignSNF</a></code> which is deprecated.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Matrix of results</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Joshua Welch, Yichen Wang, Chao Gao, Jialin Liu, Joshua Sodicoff, Velina Kozareva, Evan Macosko.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

